# Setup
- Need a postgres DB named 'babel'

## Article Crawler
- https://github.com/TMats/babel_spider

## Tables
### articles
```
CREATE TABLE articles(
id SERIAL PRIMARY KEY,
url VARCHAR NOT NULL UNIQUE,
category_id INTEGER NOT NULL,
media_id INTEGER NOT NULL,
title TEXT NOT NULL,
content TEXT NOT NULL,
published_at TIMESTAMP,
created_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
updated_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP
);
```

### en_articles
```
CREATE TABLE en_articles(
article_id INTEGER PRIMARY KEY,
url VARCHAR NOT NULL UNIQUE,
category_id INTEGER NOT NULL,
media_id INTEGER NOT NULL,
title TEXT NOT NULL,
content TEXT NOT NULL,
published_at TIMESTAMP,
created_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
updated_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP
);
```

### ja_titles
```
CREATE TABLE ja_titles(
article_id INTEGER PRIMARY KEY,
ja_title TEXT NOT NULL,
created_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
updated_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP
);
```

## doc2vec_article_clusters
```
CREATE TABLE doc2vec_article_clusters(
article_id INTEGER PRIMARY KEY,
cluster_id  INTEGER NOT NULL,
created_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
updated_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP
);
```

## tfidf_article_clusters
```
CREATE TABLE tfidf_article_clusters(
article_id INTEGER PRIMARY KEY,
cluster_id  INTEGER NOT NULL,
created_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
updated_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP
);
```

### categories
```
CREATE TABLE categories(
id SERIAL PRIMARY KEY,
name VARCHAR NOT NULL UNIQUE,
created_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
updated_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP
);
```

### media
```
CREATE TABLE media(
id SERIAL PRIMARY KEY UNIQUE,
name VARCHAR NOT NULL,
domain VARCHAR NOT NULL UNIQUE,
country_id INTEGER NOT NULL,
created_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
updated_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP
);
```

### countries
```
CREATE TABLE countries(
id SERIAL PRIMARY KEY,
name VARCHAR NOT NULL UNIQUE,
created_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
updated_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP
);
```
